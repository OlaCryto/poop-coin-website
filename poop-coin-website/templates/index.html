{% extends "base.html" %}

{% block title %}{{ SITE_NAME }} on AVAX - The Ultimate Shitcoin{% endblock %}


{% block content %}
<!-- Responsive Hero Section -->
<div class="hero-section min-h-screen flex flex-col justify-center items-center text-white p-4 relative overflow-hidden">
    <!-- The rain container is now inside the hero to stay with the background -->
    <div id="rain-container"></div>

    <div class="container mx-auto grid md:grid-cols-2 gap-8 items-center z-10 mt-10 md:mt-0">
        <!-- Left Column: Text and Buttons -->
        <div class="text-center md:text-left animate-fade-up">
            <h1 class="text-5xl sm:text-6xl md:text-8xl font-bold text-[#FFD700] dark:text-[#FFD700] tracking-wider" style="text-shadow: 3px 3px #000;">{{ SITE_NAME }}</h1>
            <p class="text-2xl md:text-3xl mt-4 text-gray-200 dark:text-gray-100 animate-fade-up-delay">The adventure just started... in the toilet.</p>
            <div class="mt-8 flex flex-col sm:flex-row flex-wrap gap-4 justify-center md:justify-start animate-fade-up-delay-2">
                <a href="#" class="btn-gradient w-full sm:w-auto text-black px-6 py-3 rounded-full text-lg sm:text-xl font-bold btn-interactive transition-transform plays-sound shadow-md">Buy on The Arena</a>
                <a href="/tokenomics" class="border-2 border-yellow-500 text-yellow-500 w-full sm:w-auto px-6 py-3 rounded-full text-lg sm:text-xl font-bold hover:btn-gradient hover:text-black transition-colors plays-sound">Tokenomics</a>
                <a href="/login" class="border-2 border-gray-400 dark:border-gray-300 text-gray-200 dark:text-gray-100 w-full sm:w-auto px-6 py-3 rounded-full text-lg sm:text-xl font-bold hover:bg-white hover:text-black dark:hover:bg-gray-100 dark:hover:text-black transition-colors flex items-center justify-center gap-2 plays-sound">
                    <span>Connect with</span>
                    <svg class="w-5 h-5" version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" xml:space="preserve">
                        <path fill="currentColor" d="M16.766,13.549l6.916-8.037h-1.641l-6.003,6.979l-4.794-6.979H5.719l7.247,10.555l-7.247,8.422h1.634 l6.342-7.361l5.059,7.361h5.527L16.766,13.549L16.766,13.549z M14.524,16.155l-0.737-1.052L7.94,6.75h2.523l4.712,6.743l0.737,1.051 l6.129,8.77h-2.517L14.524,16.155L14.524,16.155z"/>
                    </svg>
                </a>
            </div>
            
            <!-- Quick Navigation Links for Smooth Scrolling -->
            <div class="mt-6 flex flex-wrap gap-3 justify-center md:justify-start animate-fade-up-delay-2">
                <a href="#about-section" class="text-yellow-400 dark:text-yellow-300 hover:text-yellow-300 dark:hover:text-yellow-200 text-sm underline transition-colors plays-sound">About</a>
                <span class="text-yellow-600 dark:text-yellow-500">•</span>
                <a href="#community-section" class="text-yellow-400 dark:text-yellow-300 hover:text-yellow-300 dark:hover:text-yellow-200 text-sm underline transition-colors plays-sound">Community</a>
                <span class="text-yellow-600 dark:text-yellow-500">•</span>
                <a href="#social-section" class="text-yellow-400 dark:text-yellow-300 hover:text-yellow-300 dark:hover:text-yellow-200 text-sm underline transition-colors plays-sound">Follow Us</a>
            </div>
        </div>
        <!-- Right Column: Image -->
        <div class="flex justify-center order-first md:order-last mb-8 md:mb-0 animate-fade-up-delay">
            <img src="{{ LOGO_PATH }}" alt="Happy Poop" class="h-48 sm:h-52 md:h-64 float main-poop-logo p-2 sm:p-4"
                 onerror="this.onerror=null;this.src='https://placehold.co/256x256/4A2C0B/FFD700?text=💩';">
        </div>
    </div>
    
    <!-- Scroll Down Cue -->
    <div class="hidden md:block absolute bottom-4 left-1/2 transform -translate-x-1/2 animate-bounce text-yellow-500">
        ↓ Scroll Down
    </div>
    
</div>

</div>
{% endblock %}

{% block scripts %}
<!-- Notification Banner -->
<div id="holders-notification" style="display:none;position:fixed;top:24px;left:50%;transform:translateX(-50%);z-index:9999;min-width:260px;max-width:90vw;" class="btn-gradient text-black px-6 py-3 rounded-full text-xl font-bold shadow-lg flex items-center gap-4 transition-opacity duration-700"></div>
<audio id="buy-sound" src="/static/sounds/fart.mp3" preload="auto"></audio>
<audio id="sell-sound" src="https://www.soundjay.com/human/sounds/human-toilet-flush-01.mp3" preload="auto"></audio>
<script>
let lastCount = null;
function showNotification(msg, avatar, action, shareText) {
    const el = document.getElementById('holders-notification');
    el.innerHTML = `
        ${avatar ? `<img src='${avatar}' alt='avatar' class='h-10 w-10 rounded-full border-2 border-yellow-500 mr-2' style='display:inline-block;'>` : ''}
        <span>${msg}</span>
        <button onclick="navigator.share ? navigator.share({text: '${shareText}'}) : window.open('https://twitter.com/intent/tweet?text=' + encodeURIComponent('${shareText}'))" class="ml-4 px-2 py-1 bg-black text-yellow-500 rounded hover:bg-yellow-700">Share</button>
    `;
    el.style.display = 'flex';
    el.style.opacity = 1;
    setTimeout(() => {
        el.style.opacity = 0;
        setTimeout(() => { el.style.display = 'none'; }, 700);
    }, 2500);
    // Play sound only if not globally muted
    if (!window.isMuted) {
        if (action === 'buy') {
            document.getElementById('buy-sound').play();
        } else if (action === 'sell') {
            document.getElementById('sell-sound').play();
        }
    }
}

function pollHoldersCount() {
    fetch('/api/holders_count')
        .then(res => res.json())
        .then(data => {
            if (Array.isArray(data.changes) && data.changes.length > 0) {
                data.changes.forEach(change => {
                    let msg = '';
                    if (change.action === 'buy') {
                        msg = `${change.name} bought ${change.amount} ticket${change.amount > 1 ? 's' : ''}! 🎟️`;
                    } else if (change.action === 'sell') {
                        msg = `${change.name} sold ${change.amount} ticket${change.amount > 1 ? 's' : ''}! 💸`;
                    }
                    const shareText = `${msg} #{{ SITE_NAME }}onAVAX`;
                    showNotification(msg, change.avatar, change.action, shareText);
                });
            }
            lastCount = data.count;
        });
}
setInterval(pollHoldersCount, 1000); // Poll every 1 second
document.addEventListener('DOMContentLoaded', pollHoldersCount);
</script>

<!-- About Section -->
<section id="about-section" class="container mx-auto px-4 py-16 text-center">
    <div class="max-w-4xl mx-auto">
        <h2 class="text-5xl font-bold text-yellow-500 dark:text-yellow-400 mb-8 animate-fade-up">About {{ SITE_NAME }}</h2>
        <p class="text-xl text-yellow-300 dark:text-yellow-200 mb-6 animate-fade-up-delay">
            The ultimate shitcoin experience on Avalanche! Join our community of degenerates and toilet paper hands 
            as we flush our way to the moon. This isn't financial advice, it's bathroom advice! 🚽💎
        </p>
        <div class="grid md:grid-cols-3 gap-8 mt-12">
            <div class="bg-black/30 dark:bg-gray-800/30 p-6 rounded-xl border border-yellow-500/30 dark:border-yellow-400/30 animate-fade-up">
                <div class="text-4xl mb-4">💩</div>
                <h3 class="text-xl font-bold text-yellow-400 dark:text-yellow-300 mb-2">Pure Shitcoin</h3>
                <p class="text-yellow-300 dark:text-yellow-200">Embrace the chaos and join the toilet revolution!</p>
            </div>
            <div class="bg-black/30 dark:bg-gray-800/30 p-6 rounded-xl border border-yellow-500/30 dark:border-yellow-400/30 animate-fade-up-delay">
                <div class="text-4xl mb-4">🌙</div>
                <h3 class="text-xl font-bold text-yellow-400 dark:text-yellow-300 mb-2">To The Moon</h3>
                <p class="text-yellow-300 dark:text-yellow-200">Flushing straight up to lunar levels of gains!</p>
            </div>
            <div class="bg-black/30 dark:bg-gray-800/30 p-6 rounded-xl border border-yellow-500/30 dark:border-yellow-400/30 animate-fade-up-delay-2">
                <div class="text-4xl mb-4">🚽</div>
                <h3 class="text-xl font-bold text-yellow-400 dark:text-yellow-300 mb-2">Toilet Powered</h3>
                <p class="text-yellow-300 dark:text-yellow-200">Renewable energy from the bathroom blockchain!</p>
            </div>
        </div>
    </div>
</section>

<!-- Community Section -->
<section id="community-section" class="bg-black/20 dark:bg-gray-900/20 py-16">
    <div class="container mx-auto px-4 text-center">
        <h2 class="text-5xl font-bold text-yellow-500 dark:text-yellow-400 mb-8 animate-fade-up">Join Our Community</h2>
        <p class="text-xl text-yellow-300 dark:text-yellow-200 mb-12 max-w-3xl mx-auto animate-fade-up-delay">
            Connect with fellow poop enthusiasts, share memes, and stay updated on all the shitty developments!
        </p>
        <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto">
            <div class="bg-gradient-to-br from-blue-600/20 to-blue-800/20 dark:from-blue-500/15 dark:to-blue-700/15 p-8 rounded-xl border border-blue-500/30 dark:border-blue-400/30 animate-fade-up">
                <div class="text-5xl mb-4">🎮</div>
                <h3 class="text-2xl font-bold text-blue-400 dark:text-blue-300 mb-4">Discord Community</h3>
                <p class="text-blue-300 dark:text-blue-200 mb-6">Join our Discord for real-time chat, memes, and exclusive alpha!</p>
                <a href="#" class="btn-gradient px-6 py-3 rounded-full font-bold text-black btn-interactive plays-sound">Join Discord</a>
            </div>
            <div class="bg-gradient-to-br from-blue-400/20 to-blue-600/20 dark:from-blue-300/15 dark:to-blue-500/15 p-8 rounded-xl border border-blue-400/30 dark:border-blue-300/30 animate-fade-up-delay">
                <div class="text-5xl mb-4">🐦</div>
                <h3 class="text-2xl font-bold text-blue-300 dark:text-blue-200 mb-4">Twitter Updates</h3>
                <p class="text-blue-200 dark:text-blue-100 mb-6">Follow us for the latest poop news, announcements, and toilet humor!</p>
                <a href="https://x.com/Poop_On_Avax" target="_blank" class="btn-gradient px-6 py-3 rounded-full font-bold text-black btn-interactive plays-sound">Follow on X</a>
            </div>
        </div>
    </div>
</section>

<!-- Social Section -->
<section id="social-section" class="py-16">
    <div class="container mx-auto px-4 text-center">
        <h2 class="text-5xl font-bold text-yellow-500 dark:text-yellow-400 mb-8 animate-fade-up">Follow Our Journey</h2>
        <p class="text-xl text-yellow-300 dark:text-yellow-200 mb-12 animate-fade-up-delay">Stay connected across all platforms!</p>
        <div class="flex justify-center items-center space-x-8 mb-8 animate-fade-up-delay-2">
            <a href="https://x.com/Poop_On_Avax" target="_blank" 
               class="text-white dark:text-gray-200 hover:text-yellow-400 dark:hover:text-yellow-300 transition-colors transform hover:scale-110 duration-300" 
               aria-label="Follow us on X (Twitter)" 
               title="Follow us on X (Twitter)">
                <svg class="w-12 h-12" version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" xml:space="preserve">
                    <path fill="currentColor" d="M16.766,13.549l6.916-8.037h-1.641l-6.003,6.979l-4.794-6.979H5.719l7.247,10.555l-7.247,8.422h1.634 l6.342-7.361l5.059,7.361h5.527L16.766,13.549L16.766,13.549z M14.524,16.155l-0.737-1.052L7.94,6.75h2.523l4.712,6.743l0.737,1.051 l6.129,8.77h-2.517L14.524,16.155L14.524,16.155z"/>
                </svg>
            </a>
            <a href="https://arena.social/Poop_On_Avax" target="_blank" 
               class="text-white dark:text-gray-200 hover:text-yellow-400 dark:hover:text-yellow-300 transition-colors transform hover:scale-110 duration-300" 
               aria-label="Follow us on The Arena social platform" 
               title="Follow us on The Arena">
                <svg class="w-12 h-12" version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" xml:space="preserve">
                    <g>
                        <path fill-rule="evenodd" clip-rule="evenodd" fill="currentColor" d="M24.972,19.288c0,2.816,0,5.638,0,8.451 c0,0.159,0.024,0.33-0.021,0.478c-0.035,0.104-0.163,0.182-0.25,0.274c-0.087-0.093-0.233-0.167-0.25-0.271 c-0.042-0.223-0.023-0.455-0.023-0.685c0-4.876,0.037-9.75-0.012-14.619c-0.04-3.994-1.877-6.941-5.47-8.714 c-3.575-1.764-8.111-0.848-10.815,2.106c-1.707,1.864-2.544,4.058-2.551,6.573c-0.008,4.941,0,9.886,0,14.828 c0,0.141,0.025,0.292-0.014,0.424c-0.038,0.128-0.149,0.235-0.229,0.354c-0.098-0.115-0.226-0.219-0.29-0.354 C5,28.032,5.033,27.892,5.033,27.769c0-5.315-0.004-10.632,0-15.945c0.003-3.396,1.262-6.205,3.974-8.306 c5.151-3.994,12.966-1.765,15.275,4.323c0.544,1.44,0.69,2.919,0.694,4.435c0.004,2.336,0,4.675,0,7.013H24.972z"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" fill="currentColor" d="M6.769,19.018c0-2.197-0.019-4.39,0.009-6.589 c0.043-4.156,2.871-7.449,6.965-8.154c4.372-0.758,8.8,2.486,9.365,6.862c0.074,0.579,0.115,1.162,0.115,1.745 c0.011,4.426,0.007,8.856,0.007,13.284c0,0.145,0.028,0.293-0.015,0.426c-0.037,0.107-0.151,0.188-0.234,0.285 c-0.084-0.093-0.223-0.171-0.243-0.274c-0.039-0.207-0.021-0.422-0.021-0.635c0.003-4.037,0.015-8.077,0-12.118 c-0.01-2.766-1.072-5.022-3.356-6.636C14.968,4.112,8.673,6.548,7.514,11.803c-0.146,0.67-0.216,1.368-0.216,2.051 c-0.021,4.057-0.014,8.116-0.014,12.17c0,0.124,0.032,0.261-0.007,0.368c-0.065,0.167-0.18,0.314-0.274,0.469 c-0.079-0.15-0.222-0.302-0.226-0.457c-0.017-1.662-0.009-3.328-0.009-4.994C6.769,20.613,6.769,19.817,6.769,19.018L6.769,19.018z "/>
                        <path fill-rule="evenodd" clip-rule="evenodd" fill="currentColor" d="M8.49,18.811c0-1.757-0.004-3.509,0-5.262 c0.014-4.994,4.896-8.144,9.398-5.978c2.288,1.098,3.545,3.062,3.597,5.604c0.083,3.879,0.033,7.764,0.021,11.644 c0,0.15-0.184,0.3-0.277,0.452c-0.08-0.171-0.223-0.337-0.223-0.508c-0.017-3.384-0.023-6.769-0.021-10.156 c0.004-1.845-0.577-3.456-1.975-4.692c-1.764-1.567-3.829-2.011-6.033-1.202c-2.28,0.837-3.677,2.542-3.888,4.989 c-0.159,1.864-0.083,3.748-0.096,5.63c-0.012,1.755,0,3.506,0,5.261c0,0.089,0.033,0.192-0.004,0.265 C8.919,25,8.812,25.13,8.721,25.271c-0.075-0.136-0.215-0.267-0.218-0.4c-0.021-0.852-0.018-1.699-0.018-2.551 c0-1.17,0-2.339,0-3.509C8.49,18.811,8.49,18.811,8.49,18.811z"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" fill="currentColor" d="M10.201,18.612c0-1.385-0.004-2.763,0.003-4.144 c0.008-2.11,1.128-3.835,3.103-4.57c2.958-1.097,5.925,0.774,6.401,3.658c0.069,0.4,0.089,0.809,0.093,1.218 c0.008,2.759,0.004,5.525,0.004,8.287c0,0.144,0.011,0.288-0.027,0.422c-0.028,0.077-0.146,0.185-0.219,0.178 c-0.1-0.008-0.246-0.089-0.277-0.175c-0.052-0.144-0.032-0.314-0.032-0.47c-0.003-2.621,0-5.244-0.007-7.866 c-0.01-2.256-1.687-4.085-3.912-4.283c-2.103-0.187-4.118,1.374-4.525,3.515c-0.06,0.292-0.049,0.598-0.049,0.899 c0,2.534,0,5.066,0,7.602c0,0.159,0.031,0.329-0.021,0.47c-0.038,0.126-0.174,0.211-0.268,0.314 c-0.089-0.107-0.246-0.215-0.256-0.325c-0.026-0.529-0.011-1.063-0.011-1.594C10.201,20.706,10.201,19.658,10.201,18.612z"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" fill="currentColor" d="M11.989,18.435c0-1.222-0.103-2.452,0.023-3.657 c0.163-1.516,1.531-2.554,3.071-2.523c1.496,0.032,2.781,1.127,2.912,2.642c0.115,1.317,0.074,2.65,0.095,3.979 c0.007,0.868,0.017,1.734-0.011,2.604c-0.01,0.2-0.156,0.559-0.264,0.566c-0.389,0.025-0.277-0.33-0.277-0.548 c-0.008-1.805-0.004-3.615-0.004-5.42c-0.004-1.523-1.069-2.668-2.492-2.682c-1.486-0.011-2.569,1.096-2.573,2.641 c-0.007,1.755-0.003,3.51-0.003,5.267c0,0.124,0.035,0.261-0.014,0.364c-0.063,0.152-0.19,0.271-0.294,0.403 c-0.081-0.133-0.237-0.259-0.237-0.396c-0.02-1.077-0.011-2.162-0.011-3.241C11.937,18.435,11.962,18.435,11.989,18.435z"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" fill="currentColor" d="M16.348,18.216c0,0.604,0.017,1.209-0.011,1.805 c-0.008,0.152-0.159,0.293-0.246,0.434c-0.087-0.137-0.247-0.281-0.25-0.422c-0.024-1.011-0.011-2.018-0.017-3.026 c0-0.65-0.333-1.09-0.813-1.101c-0.504-0.009-0.827,0.407-0.827,1.069c-0.006,1.008,0.007,2.017-0.017,3.025 c-0.004,0.155-0.177,0.305-0.271,0.455c-0.087-0.141-0.25-0.285-0.25-0.434c-0.019-1.201-0.031-2.408-0.004-3.609 c0.015-0.79,0.393-1.256,1.038-1.423c0.545-0.144,1.187,0.098,1.454,0.618c0.139,0.271,0.175,0.604,0.213,0.916 c0.037,0.277,0.014,0.563,0.017,0.844c0,0.287,0,0.568,0,0.85C16.357,18.216,16.354,18.216,16.348,18.216z"/>
                    </g>
                </svg>
            </a>
            <a href="#" 
               class="text-white dark:text-gray-200 hover:text-yellow-400 dark:hover:text-yellow-300 transition-colors transform hover:scale-110 duration-300" 
               aria-label="Join our Discord community" 
               title="Join our Discord">
                <svg class="w-12 h-12" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.191.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418Z"/>
                </svg>
            </a>
        </div>
    </div>
</section>
{% endblock %}
